name: "Coverage"
on:
  push:
    branches: [develop, fx-setup-integration-15]

jobs:
  check_pr:
    runs-on: ubuntu-latest
    steps:
    - name: checkout code
      uses: actions/checkout@v3

    - name: install dependencies
      run: npm install

    - name: build typescript
      run: npm run build

    - name: run tests and instrument coverage
      run: npm run test

     - name: run tests and instrument coverage
      run: npm run coverage
    - name: Upload coverage to Codecov
      uses: codecov/codecov-action@v1